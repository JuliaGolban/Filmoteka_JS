!function(){function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},n.parcelRequired7c6=i),i.register("iE7OH",(function(t,n){var a,r;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var i={};a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},r=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("aNJCr",(function(t,n){var a;e(t.exports,"getBundleURL",(function(){return a}),(function(e){return a=e}));var r={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),r[e]=t),t}})),i("iE7OH").register(JSON.parse('{"EVgbq":"index.132848d7.js","53s11":"sprite.b43dbf86.svg","39yDM":"cinemaCamera.7e0a12c0.gif","2hvCh":"index.7dd8a933.js"}'));var o,c=i("bpxeT"),l=i("2TvXO"),s=i("dIxxU");o=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("53s11"),document.querySelector("main").insertAdjacentHTML("beforeend",'<ul id="pag-container" class="pagination list"></ul>');var u=document.querySelector(".pagination"),g=0;function d(e,n){var a="",r=n-2,i=n-1,c=n+1,l=n+2;g=n,window.innerWidth>320&&window.innerWidth<767.98?(n>1&&(a+='<li class="pagination__left pagination__elem"><svg id="svg__left" class="icon__arrow icon__arrow--left" width="10px" height="10px"><use id="use__left" href="'.concat(t(o),'#arrow-pag"></use></svg></li>')),n>2&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(r,"</li>")),n>1&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(i,"</li>")),a+='<li class="pagination__currentPage pagination__elem"><b>'.concat(n,"</b></li>"),e>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(c,"</li>")),e-1>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(l,"</li>")),e>n&&(a+='<li class="pagination__right pagination__elem"><svg id="svg__right" class="icon__arrow icon__arrow--right" width="10px" height="10px"><use id="use__right" href="'.concat(t(o),'#arrow-pag"></use></svg><li>'))):(n>1&&(a+='<li class="pagination__left pagination__elem"><svg id="svg__left" class="icon__arrow icon__arrow--left" width="10px" height="10px"><use id="use__left" class="use" href="'.concat(t(o),'#arrow-pag"></use></svg></li>')),n>1&&(a+='<li class="pagination__elem pagination__elem--page pagination__elem--cutPage">1</li>'),n>4&&(a+='<li class="pagination__elem pagination__elem--dots">...</li>'),n>3&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(r,"</li>")),n>2&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(i,"</li>")),a+='<li class="pagination__currentPage pagination__elem"><b>'.concat(n,"</b></li>"),e-1>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(c,"</li>")),e-2>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(l,"</li>")),e-3>n&&(a+='<li class="pagination__elem pagination__elem--dots">...</li>'),e>n&&(a+='<li class="pagination__elem pagination__elem--page pagination__elem--cutPage">'.concat(e,"</li>"),a+='<li class="pagination__right pagination__elem"><svg id="svg__right" class="icon__arrow icon__arrow--right" width="10px" height="10px"><use id="use__right" href="'.concat(t(o),'#arrow-pag"></use></svg><li>'))),u.innerHTML=a}u.addEventListener("click",(function(e){var t=localStorage.getItem("paramsPart");if("LI"!==e.target.nodeName&&"svg"!==e.target.nodeName&&"use"!==e.target.nodeName)return;if("pagination__left pagination__elem"===e.target.className||"svg__left"===e.target.id||"use__left"===e.target.id)return void w(g-=1,t);if("pagination__right pagination__elem"===e.target.className||"svg__right"===e.target.id||"use__right"===e.target.id)return void w(g+=1,t);if("..."===e.target.textContent)return;w(Number(e.target.textContent),t)}));var _,m=i("iMXa0"),p=i("94krt");_=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("39yDM");var f="e32c2b640d0c14cb8349bc85f9ee8b0e",v=0;document.querySelector("body").insertAdjacentHTML("afterbegin",'<img src="'.concat(t(_),'" alt="Spinner" width="50" class="spinner is-hidden" />'));var h=document.querySelector(".spinner"),b=document.querySelector("#p-not");function w(e,t){return S.apply(this,arguments)}function S(){return(S=t(c)(t(l).mark((function e(n,a){var r,i;return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.classList.remove("is-hidden"),r=s.default.create({baseURL:"https://api.themoviedb.org/3/".concat(a),headers:{"Content-Type":"application/json"},params:{api_key:f,page:"".concat(n)}}),e.next=4,r.get();case 4:if(i=e.sent.data,v="".concat(i.total_pages),i.total_results){e.next=11;break}return h.classList.add("is-hidden"),e.abrupt("return",b.classList.remove("is-hidden"));case 11:d(v,n);case 12:(0,p.removeMarkupMovieCard)(),(0,m.saveToStorage)("movies",i),(0,m.getFromStorage)("movies"),(0,p.renderMarkupMovieCard)(i),b.classList.add("is-hidden"),h.classList.add("is-hidden");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}m=i("iMXa0");(0,m.clearData)(),localStorage.setItem("paramsPart","trending/movie/week"),w(1,localStorage.getItem("paramsPart")),i("2rpNs");m=i("iMXa0");var x=document.querySelector(".search-form"),y=document.querySelector(".search-form__input");x.addEventListener("submit",(function(e){e.preventDefault(),(0,m.removeItem)("movies");var t,n,a=y.value;localStorage.setItem("paramsPart","search/movie?query=".concat(a)),t=1,n=localStorage.getItem("paramsPart"),w(t,n),x.reset()})),i("5xtVg");var E=i("1t1Wn");i("dIxxU");m=i("iMXa0");var q=(0,i("l1RgP").default)();function L(e){e.preventDefault();var t,n,a=Number(q.modal.dataset.action),r=(t=a,n=(0,m.getFromStorage)("movies").results.find((function(e){return e.id===Number(t)})),n),i=String(e.currentTarget.dataset.click);"watched"===i&&(T(r,"watched"),k(a)),"queue"===i&&(T(r,"queue"),k(a))}function T(e,n){var a=t(E)(function(){var e=localStorage.getItem("watched"),t=localStorage.getItem("queue");return[e=null===e?[]:JSON.parse(e),t=null===t?[]:JSON.parse(t)]}(),2),r=a[0],i=a[1],o=r.map((function(e){return e.id})),c=i.map((function(e){return e.id}));switch(n){case"watched":if(o.includes(e.id)){var l=r.filter((function(t){return t.id!==e.id}));(0,m.saveToStorage)("watched",l)}else{r.push(e);var s=i.filter((function(t){return t.id!==e.id}));(0,m.saveToStorage)("watched",r),(0,m.saveToStorage)("queue",s)}break;case"queue":if(c.includes(e.id)){var u=i.filter((function(t){return t.id!==e.id}));(0,m.saveToStorage)("queue",u)}else{i.push(e);var g=r.filter((function(t){return t.id!==e.id}));(0,m.saveToStorage)("watched",g),(0,m.saveToStorage)("queue",i)}break;default:console.log("Error from add to storage by movie type")}}function k(e){var t=function(t){return!!(0,m.getFromStorage)(t).map((function(e){return e.id})).includes(e)};t("watched")?q.addToWatchedBtn.textContent="REMOVE":t("watched")||(q.addToWatchedBtn.textContent="ADD TO WATCHED"),t("queue")?q.addToQueueBtn.textContent="REMOVE":t("queue")||(q.addToQueueBtn.textContent="ADD TO QUEUE")}q.addToWatchedBtn.addEventListener("click",L),q.addToQueueBtn.addEventListener("click",L),i("15Ogw"),i("5JnJR");var N=document.querySelector(".genres-nav-button"),O=document.querySelector(".mobile-menu"),C=document.querySelector(".mobile-menu-list"),M=document.querySelector(".genres-nav-button .genres-nav-button__line:nth-of-type(1)"),H=document.querySelector(".genres-nav-button .genres-nav-button__line:nth-of-type(2)"),A=document.querySelector(".genres-nav-button .genres-nav-button__line:nth-of-type(3)"),I="genres";N.addEventListener("click",(function(){M.classList.toggle("genres-nav-button__line--1"),H.classList.toggle("genres-nav-button__line--2"),A.classList.toggle("genres-nav-button__line--3"),O.classList.toggle("mobile-menu--open"),function(e){C.innerHTML="";var t=e.map((function(e){var t=e.name;return'<li class="mobile-menu-item"><a data-action="'.concat(t.toLowerCase(),'">').concat(t,"</a></li>")})).join("");C.insertAdjacentHTML("beforeend",t)}(function(){try{return JSON.parse(localStorage.getItem(I))}catch(e){return console.warn("Cannot parse JSON from localStorage"),null}}())})),C.addEventListener("click",(function(e){if("A"!==e.target.nodeName)return;e.target.dataset.action;console.log(e.target.dataset.action)})),i("lSt1Q"),i("iNWLi"),document.querySelector("#toggle-theme-btn").addEventListener("click",(function(){document.documentElement.hasAttribute("data-theme")?(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem("theme")):(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"))})),null!==localStorage.getItem("theme")&&document.documentElement.setAttribute("data-theme","dark")}();
//# sourceMappingURL=index.132848d7.js.map
