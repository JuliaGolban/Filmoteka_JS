{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-265102fec535ece1.js","src/js/api-common.js","node_modules/@parcel/runtime-js/lib/runtime-2b5e0dc65dc94c32.js","src/js/pagination.js","node_modules/@parcel/runtime-js/lib/runtime-1eccae6c35edd33a.js","src/js/trending.js","src/js/headerSearch.js","src/js/localeStorage.js","src/js/burger-menu.js","src/js/theme.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.132848d7.js\\\",\\\"53s11\\\":\\\"sprite.b43dbf86.svg\\\",\\\"39yDM\\\":\\\"cinemaCamera.7e0a12c0.gif\\\",\\\"2hvCh\\\":\\\"index.7dd8a933.js\\\"}\"));","import axios from 'axios';\nimport { default as pagination } from '../js/pagination';\nimport { getFromStorage, saveToStorage } from './localeCommon';\nimport { renderMarkupMovieCard, removeMarkupMovieCard } from './movie-card';\nimport img from '../image/cinemaCamera.gif';\n\n/**\n * Create pagination\n * @param {Number} currentPage - current page for search\n * @param {Number} totalPages  - all pages for search\n */\n\nconst API_KEY = 'e32c2b640d0c14cb8349bc85f9ee8b0e';\nlet totalPages = 0;\n\ndocument\n  .querySelector('body')\n  .insertAdjacentHTML(\n    'afterbegin',\n    `<img src=\"${img}\" alt=\"Spinner\" width=\"50\" class=\"spinner is-hidden\" />`\n  );\nconst spinner = document.querySelector('.spinner');\n\nconst notFound = document.querySelector('#p-not');\n\nasync function getResponse(currentPage, partUrl) {\n  spinner.classList.remove('is-hidden');\n\n  const axiosInstance = axios.create({\n    baseURL: `https://api.themoviedb.org/3/${partUrl}`,\n    headers: { 'Content-Type': 'application/json' },\n    params: {\n      api_key: API_KEY,\n      page: `${currentPage}`,\n    },\n  });\n\n  const { data } = await axiosInstance.get();\n\n  totalPages = `${data.total_pages}`;\n\n  if (!data.total_results) {\n    spinner.classList.add('is-hidden');\n    return notFound.classList.remove('is-hidden');\n  } else {\n    pagination(totalPages, currentPage);\n  }\n\n  removeMarkupMovieCard();\n  saveToStorage('movies', data);\n  getFromStorage('movies');\n  renderMarkupMovieCard(data);\n\n  notFound.classList.add('is-hidden');\n  spinner.classList.add('is-hidden');\n}\n\nexport { getResponse };\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"53s11\");","import { getResponse } from './api-common';\nimport sprite from '../image/sprite.svg';\n\ndocument\n  .querySelector('main')\n  .insertAdjacentHTML(\n    'beforeend',\n    '<ul id=\"pag-container\" class=\"pagination list\"></ul>'\n  );\n\nconst paginationBox = document.querySelector('.pagination');\n\nlet globalCurrentPage = 0;\n\n/**\n * Create pagination\n * @param {Number} currentPage - current page for search\n * @param {Number} globalCurrentPage - current page for click search\n * @param {Number} totalPages  - all pages for search\n */\nexport default function pagination(totalPages, currentPage) {\n  let markup = '';\n  let beforeTwoPage = currentPage - 2;\n  let beforePage = currentPage - 1;\n  let afterPage = currentPage + 1;\n  let afterTwoPage = currentPage + 2;\n  globalCurrentPage = currentPage;\n\n  if (window.innerWidth > 320 && window.innerWidth < 767.98) {\n    if (currentPage > 1) {\n      markup += `<li class=\"pagination__left pagination__elem\"><svg id=\"svg__left\" class=\"icon__arrow icon__arrow--left\" width=\"10px\" height=\"10px\"><use id=\"use__left\" href=\"${sprite}#arrow-pag\"></use></svg></li>`;\n    }\n    if (currentPage > 2) {\n      markup += `<li class=\"pagination__elem pagination__elem--page\">${beforeTwoPage}</li>`;\n    }\n    if (currentPage > 1) {\n      markup += `<li class=\"pagination__elem pagination__elem--page\">${beforePage}</li>`;\n    }\n    markup += `<li class=\"pagination__currentPage pagination__elem\"><b>${currentPage}</b></li>`;\n    if (totalPages > currentPage) {\n      markup += `<li class=\"pagination__elem pagination__elem--page\">${afterPage}</li>`;\n    }\n    if (totalPages - 1 > currentPage) {\n      markup += `<li class=\"pagination__elem pagination__elem--page\">${afterTwoPage}</li>`;\n    }\n    if (totalPages > currentPage) {\n      markup += `<li class=\"pagination__right pagination__elem\"><svg id=\"svg__right\" class=\"icon__arrow icon__arrow--right\" width=\"10px\" height=\"10px\"><use id=\"use__right\" href=\"${sprite}#arrow-pag\"></use></svg><li>`;\n    }\n  } else {\n    if (currentPage > 1) {\n      markup += `<li class=\"pagination__left pagination__elem\"><svg id=\"svg__left\" class=\"icon__arrow icon__arrow--left\" width=\"10px\" height=\"10px\"><use id=\"use__left\" class=\"use\" href=\"${sprite}#arrow-pag\"></use></svg></li>`;\n    }\n    if (currentPage > 1) {\n      markup += `<li class=\"pagination__elem pagination__elem--page pagination__elem--cutPage\">1</li>`;\n    }\n    if (currentPage > 4) {\n      markup += `<li class=\"pagination__elem pagination__elem--dots\">...</li>`;\n    }\n    if (currentPage > 3) {\n      markup += `<li class=\"pagination__elem pagination__elem--page\">${beforeTwoPage}</li>`;\n    }\n    if (currentPage > 2) {\n      markup += `<li class=\"pagination__elem pagination__elem--page\">${beforePage}</li>`;\n    }\n    markup += `<li class=\"pagination__currentPage pagination__elem\"><b>${currentPage}</b></li>`;\n    if (totalPages - 1 > currentPage) {\n      markup += `<li class=\"pagination__elem pagination__elem--page\">${afterPage}</li>`;\n    }\n    if (totalPages - 2 > currentPage) {\n      markup += `<li class=\"pagination__elem pagination__elem--page\">${afterTwoPage}</li>`;\n    }\n    if (totalPages - 3 > currentPage) {\n      markup += `<li class=\"pagination__elem pagination__elem--dots\">...</li>`;\n    }\n    if (totalPages > currentPage) {\n      markup += `<li class=\"pagination__elem pagination__elem--page pagination__elem--cutPage\">${totalPages}</li>`;\n      markup += `<li class=\"pagination__right pagination__elem\"><svg id=\"svg__right\" class=\"icon__arrow icon__arrow--right\" width=\"10px\" height=\"10px\"><use id=\"use__right\" href=\"${sprite}#arrow-pag\"></use></svg><li>`;\n    }\n  }\n\n  paginationBox.innerHTML = markup;\n}\n\npaginationBox.addEventListener('click', onPaginationBoxClick);\n\nfunction onPaginationBoxClick(evt) {\n  let partUrl = localStorage.getItem('paramsPart');\n\n  if (evt.target.nodeName !== 'LI') {\n    if (evt.target.nodeName !== 'svg') {\n      if (evt.target.nodeName !== 'use') {\n        return;\n      }\n    }\n  }\n  if (\n    evt.target.className === 'pagination__left pagination__elem' ||\n    evt.target.id === 'svg__left' ||\n    evt.target.id === 'use__left'\n  ) {\n    getResponse((globalCurrentPage -= 1), partUrl);\n    return;\n  }\n  if (\n    evt.target.className === 'pagination__right pagination__elem' ||\n    evt.target.id === 'svg__right' ||\n    evt.target.id === 'use__right'\n  ) {\n    getResponse((globalCurrentPage += 1), partUrl);\n    return;\n  }\n  if (evt.target.textContent === '...') {\n    return;\n  }\n  const page = Number(evt.target.textContent);\n  getResponse(page, partUrl);\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"39yDM\");","import { getResponse } from './api-common';\nimport { clearData } from './localeCommon';\nlet partUrl = '';\n\n/**\n * Create pagination\n * @param {Number} currentPage - current page for search\n * @param {Number} totalPages  - all pages for search\n */\n\nclearData();\n\ntrending();\n\nfunction trending() {\n  let currentPage = 1;\n\n  localStorage.setItem('paramsPart', 'trending/movie/week');\n\n  partUrl = localStorage.getItem('paramsPart');\n\n  getResponse(currentPage, partUrl);\n}\n","import { getResponse } from './api-common';\nimport { removeItem } from './localeCommon';\n\n/**\n * Create pagination\n * @param {Number} currentPage - current page for search\n * @param {Number} totalPages  - all pages for search\n */\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-form__input');\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  removeItem('movies');\n\n  const searchInput = input.value;\n  localStorage.setItem('paramsPart', `search/movie?query=${searchInput}`);\n\n  search();\n  form.reset();\n}\n\nfunction search() {\n  let currentPage = 1;\n\n  let partUrl = localStorage.getItem('paramsPart');\n\n  getResponse(currentPage, partUrl);\n}\n\nform.addEventListener('submit', onSubmitForm);\n","import axios from 'axios';\nimport { clearData, getFromStorage, saveToStorage } from './localeCommon';\nimport getRefs from './getRefs';\nconst refs = getRefs();\n\nrefs.addToWatchedBtn.addEventListener('click', onBtnClick);\nrefs.addToQueueBtn.addEventListener('click', onBtnClick);\n\nfunction onBtnClick(e) {\n  e.preventDefault();\n\n  let movieId = Number(refs.modal.dataset.action);\n  let movie = getMovieById(movieId);\n  let click = String(e.currentTarget.dataset.click);\n\n  // debugger;\n  //ADD TO WATCHED\n  if (click === 'watched') {\n    addToStorage(movie, 'watched');\n    checkMovieInStack(movieId);\n  }\n  //ADD TO QUEUE\n  if (click === 'queue') {\n    addToStorage(movie, 'queue');\n    checkMovieInStack(movieId);\n  }\n}\n\nfunction getMovieById(id) {\n  const movies = getFromStorage('movies');\n  const result = movies.results.find(movie => movie.id === Number(id));\n  return result;\n}\n\n/*\n  отримуємо поточні дані зі сховища, якщо немає - записуємо пустий масив\n*/\nfunction getCurrentStorage() {\n  let watched = localStorage.getItem('watched');\n  let queue = localStorage.getItem('queue');\n  if (watched === null) {\n    watched = [];\n  } else {\n    watched = JSON.parse(watched);\n  }\n  if (queue === null) {\n    queue = [];\n  } else {\n    queue = JSON.parse(queue);\n  }\n  return [watched, queue];\n}\n\n/**\n   Функция принимает только 2 параметра movieObj - объект со свойствами фильма\n  и movieType - тип фильма (только 2 варианта: 'watched' или 'queue').\n  \n  // @param {objects} movieObj;\n  // @param {string} movieType;\n */\n\n/*\n  записуємо та зберігаємо дані фільму у сховище\n*/\nfunction addToStorage(movieObj, movieType) {\n  const [watched, queue] = getCurrentStorage();\n  const watchedId = watched.map(movie => movie.id);\n  const queueId = queue.map(movie => movie.id);\n\n  switch (movieType) {\n    case 'watched':\n      if (!watchedId.includes(movieObj.id)) {\n        watched.push(movieObj);\n        const filtrededQueue = queue.filter(movie => {\n          return movie.id !== movieObj.id;\n        });\n        saveToStorage('watched', watched);\n        saveToStorage('queue', filtrededQueue);\n      } else {\n        const filtrededWatched = watched.filter(movie => {\n          return movie.id !== movieObj.id;\n        });\n        saveToStorage('watched', filtrededWatched);\n      }\n      break;\n    case 'queue':\n      if (!queueId.includes(movieObj.id)) {\n        queue.push(movieObj);\n        const filtrededWatched = watched.filter(movie => {\n          return movie.id !== movieObj.id;\n        });\n        saveToStorage('watched', filtrededWatched);\n        saveToStorage('queue', queue);\n      } else {\n        const filtrededQueue = queue.filter(movie => {\n          return movie.id !== movieObj.id;\n        });\n        saveToStorage('queue', filtrededQueue);\n      }\n      break;\n    default:\n      console.log('Error from add to storage by movie type');\n  }\n}\n\n/*\nперевірка наявності фільму в сховищі за ключем\n */\n\nfunction checkMovieInStack(id) {\n  const check = function (storagekey) {\n    let stack = getFromStorage(storagekey);\n    const stackId = stack.map(movie => movie.id);\n    if (stackId.includes(id)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  if (check('watched')) {\n    refs.addToWatchedBtn.textContent = 'REMOVE';\n  } else if (!check('watched')) {\n    refs.addToWatchedBtn.textContent = 'ADD TO WATCHED';\n  }\n  if (check('queue')) {\n    refs.addToQueueBtn.textContent = 'REMOVE';\n  } else if (!check('queue')) {\n    refs.addToQueueBtn.textContent = `ADD TO QUEUE`;\n  }\n}\n","import LS from './localeStorage';\n\nconst btn = document.querySelector('.genres-nav-button');\nconst menu = document.querySelector('.mobile-menu');\nconst menuList = document.querySelector('.mobile-menu-list');\nconst firstLine = document.querySelector(\n  '.genres-nav-button .genres-nav-button__line:nth-of-type(1)'\n);\nconst secondLine = document.querySelector(\n  '.genres-nav-button .genres-nav-button__line:nth-of-type(2)'\n);\nconst thirdLine = document.querySelector(\n  '.genres-nav-button .genres-nav-button__line:nth-of-type(3)'\n);\nlet storageKey = 'genres';\nbtn.addEventListener('click', onClickMenu);\n\nfunction onClickMenu() {\n  firstLine.classList.toggle('genres-nav-button__line--1');\n  secondLine.classList.toggle('genres-nav-button__line--2');\n  thirdLine.classList.toggle('genres-nav-button__line--3');\n  menu.classList.toggle('mobile-menu--open');\n  renderGenres(getFromStorage());\n}\n\nfunction renderGenres(results) {\n  menuList.innerHTML = '';\n  const markup = results\n    .map(({ name }) => {\n      return `<li class=\"mobile-menu-item\"><a data-action=\"${name.toLowerCase()}\">${name}</a></li>`;\n    })\n    .join('');\n\n  menuList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction getFromStorage() {\n  try {\n    const data = JSON.parse(localStorage.getItem(storageKey));\n    return data;\n  } catch (err) {\n    console.warn('Cannot parse JSON from localStorage');\n    return null;\n  }\n}\n\nmenuList.addEventListener('click', sortByGenre);\n\nfunction sortByGenre(event) {\n  if (event.target.nodeName !== 'A') {\n    return;\n  }\n\n  const value = event.target.dataset.action;\n\n  console.log(event.target.dataset.action);\n}\n","function theme(){\n    const toggleTheme = document.querySelector('#toggle-theme-btn');\n\n    toggleTheme.addEventListener('click', () => {\n\n        if(document.documentElement.hasAttribute('data-theme')){\n            document.documentElement.removeAttribute('data-theme')\n            localStorage.removeItem('theme')\n        }\n        else{\n            document.documentElement.setAttribute('data-theme', 'dark')\n            localStorage.setItem('theme', 'dark')\n        }\n \n    })\n    if(localStorage.getItem('theme') !== null){\n        document.documentElement.setAttribute('data-theme', 'dark')\n    }\n\n}\n\ntheme();"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$47d822793f32eabb$exports","getBundleURL","resolve","document","querySelector","insertAdjacentHTML","$dfaf77c789ce7a24$var$paginationBox","$dfaf77c789ce7a24$var$globalCurrentPage","$dfaf77c789ce7a24$export$2e2bcd8739ae039","totalPages","currentPage","markup","beforeTwoPage","beforePage","afterPage","afterTwoPage","window","innerWidth","concat","$parcel$interopDefault","innerHTML","addEventListener","evt","partUrl","localStorage","getItem","target","nodeName","className","$379316ab71590f2f$export$fd3c80c00b3490e","textContent","Number","$88a92ce29c9485a5$exports","$379316ab71590f2f$var$API_KEY","$379316ab71590f2f$var$totalPages","$379316ab71590f2f$var$spinner","$379316ab71590f2f$var$notFound","$379316ab71590f2f$var$_getResponse","apply","this","arguments","$2TvXO","mark","_callee","axiosInstance","data","classList","remove","$dIxxU","default","create","baseURL","headers","params","api_key","page","get","_ctx","sent","total_pages","total_results","add","$94krt","removeMarkupMovieCard","$iMXa0","saveToStorage","getFromStorage","renderMarkupMovieCard","clearData","setItem","$e7f6ad93972e0e25$var$form","$e7f6ad93972e0e25$var$input","event","preventDefault","removeItem","searchInput","reset","$1t1Wn","$559fb6d3917f0c06$var$refs","$559fb6d3917f0c06$var$onBtnClick","e","result","movieId","modal","dataset","action","movie","results","find","click","String","currentTarget","$559fb6d3917f0c06$var$addToStorage","$559fb6d3917f0c06$var$checkMovieInStack","movieObj","movieType","ref","watched","queue","$559fb6d3917f0c06$var$getCurrentStorage","watchedId","map","queueId","includes","filtrededWatched","filter","push","filtrededQueue","filtrededQueue1","filtrededWatched1","console","log","check","storagekey","addToWatchedBtn","addToQueueBtn","$a6f082bb96fcbb30$var$btn","$a6f082bb96fcbb30$var$menu","$a6f082bb96fcbb30$var$menuList","$a6f082bb96fcbb30$var$firstLine","$a6f082bb96fcbb30$var$secondLine","$a6f082bb96fcbb30$var$thirdLine","$a6f082bb96fcbb30$var$storageKey","toggle","param","name","toLowerCase","join","$a6f082bb96fcbb30$var$renderGenres","warn","$a6f082bb96fcbb30$var$getFromStorage","documentElement","hasAttribute","removeAttribute","setAttribute"],"version":3,"file":"index.132848d7.js.map"}