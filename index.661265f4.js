!function(){function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},n.parcelRequired7c6=r),r.register("iE7OH",(function(t,n){var a,i;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var r={};a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},i=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("aNJCr",(function(t,n){var a;e(t.exports,"getBundleURL",(function(){return a}),(function(e){return a=e}));var i={};function r(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return r(e[2])}return"/"}(),i[e]=t),t}})),r("iE7OH").register(JSON.parse('{"EVgbq":"index.661265f4.js","53s11":"sprite.7e1a1019.svg","39yDM":"cinemaCamera.7e0a12c0.gif","2hvCh":"index.1296f12e.js"}'));var o,c=r("bpxeT"),s=r("2TvXO"),l=r("dIxxU");o=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("53s11"),document.querySelector("main").insertAdjacentHTML("beforeend",'<ul id="pag-container" class="pagination list"></ul>');var u=document.querySelector(".pagination"),g=0;function d(e,n){var a="",i=n-2,r=n-1,c=n+1,s=n+2;g=n,window.innerWidth>320&&window.innerWidth<767.98?(n>1&&(a+='<li class="pagination__left pagination__elem"><svg id="svg__left" class="icon__arrow icon__arrow--left" width="10px" height="10px"><use id="use__left" href="'.concat(t(o),'#arrow-pag"></use></svg></li>')),n>2&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(i,"</li>")),n>1&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(r,"</li>")),a+='<li class="pagination__currentPage pagination__elem"><b>'.concat(n,"</b></li>"),e>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(c,"</li>")),e-1>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(s,"</li>")),e>n&&(a+='<li class="pagination__right pagination__elem"><svg id="svg__right" class="icon__arrow icon__arrow--right" width="10px" height="10px"><use id="use__right" href="'.concat(t(o),'#arrow-pag"></use></svg><li>'))):(n>1&&(a+='<li class="pagination__left pagination__elem"><svg id="svg__left" class="icon__arrow icon__arrow--left" width="10px" height="10px"><use id="use__left" class="use" href="'.concat(t(o),'#arrow-pag"></use></svg></li>')),n>1&&(a+='<li class="pagination__elem pagination__elem--page pagination__elem--cutPage">1</li>'),n>4&&(a+='<li class="pagination__elem pagination__elem--dots">...</li>'),n>3&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(i,"</li>")),n>2&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(r,"</li>")),a+='<li class="pagination__currentPage pagination__elem"><b>'.concat(n,"</b></li>"),e-1>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(c,"</li>")),e-2>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(s,"</li>")),e-3>n&&(a+='<li class="pagination__elem pagination__elem--dots">...</li>'),e>n&&(a+='<li class="pagination__elem pagination__elem--page pagination__elem--cutPage">'.concat(e,"</li>"),a+='<li class="pagination__right pagination__elem"><svg id="svg__right" class="icon__arrow icon__arrow--right" width="10px" height="10px"><use id="use__right" href="'.concat(t(o),'#arrow-pag"></use></svg><li>'))),u.innerHTML=a}u.addEventListener("click",(function(e){var t=localStorage.getItem("paramsPart");if("LI"!==e.target.nodeName&&"svg"!==e.target.nodeName&&"use"!==e.target.nodeName)return;if("pagination__left pagination__elem"===e.target.className||"svg__left"===e.target.id||"use__left"===e.target.id)return void w(g-=1,t);if("pagination__right pagination__elem"===e.target.className||"svg__right"===e.target.id||"use__right"===e.target.id)return void w(g+=1,t);if("..."===e.target.textContent)return;w(Number(e.target.textContent),t)}));var _,p=r("iMXa0"),m=r("94krt");_=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("39yDM");var f="e32c2b640d0c14cb8349bc85f9ee8b0e",v=0;document.querySelector("body").insertAdjacentHTML("afterbegin",'<img src="'.concat(t(_),'" alt="Spinner" width="50" class="spinner is-hidden" />'));var h=document.querySelector(".spinner"),b=document.querySelector("#p-not");function w(e,t){return S.apply(this,arguments)}function S(){return(S=t(c)(t(s).mark((function e(n,a){var i,r;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.classList.remove("is-hidden"),i=l.default.create({baseURL:"https://api.themoviedb.org/3/".concat(a),headers:{"Content-Type":"application/json"},params:{api_key:f,page:"".concat(n)}}),e.next=4,i.get();case 4:if(r=e.sent.data,v="".concat(r.total_pages),r.total_results){e.next=11;break}return h.classList.add("is-hidden"),e.abrupt("return",b.classList.remove("is-hidden"));case 11:d(v,n);case 12:(0,m.removeMarkupMovieCard)(),(0,p.saveToStorage)("movies",r),(0,p.getFromStorage)("movies"),(0,m.renderMarkupMovieCard)(r),b.classList.add("is-hidden"),h.classList.add("is-hidden");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p=r("iMXa0");(0,p.clearData)(),localStorage.setItem("paramsPart","trending/movie/week"),w(1,localStorage.getItem("paramsPart")),r("2rpNs");p=r("iMXa0");var x=document.querySelector(".search-form"),y=document.querySelector(".search-form__input");x.addEventListener("submit",(function(e){e.preventDefault(),(0,p.removeItem)("movies");var t,n,a=y.value;localStorage.setItem("paramsPart","search/movie?query=".concat(a)),t=1,n=localStorage.getItem("paramsPart"),w(t,n),x.reset()})),r("5xtVg");var E=r("1t1Wn");r("dIxxU");p=r("iMXa0");var q=(0,r("l1RgP").default)();function L(e){e.preventDefault();var t,n,a=Number(q.modal.dataset.action),i=(t=a,n=(0,p.getFromStorage)("movies").results.find((function(e){return e.id===Number(t)})),n),r=String(e.currentTarget.dataset.click);"watched"===r&&(T(i,"watched"),N(a)),"queue"===r&&(T(i,"queue"),N(a))}function T(e,n){var a=t(E)(function(){var e=localStorage.getItem("watched"),t=localStorage.getItem("queue");return[e=null===e?[]:JSON.parse(e),t=null===t?[]:JSON.parse(t)]}(),2),i=a[0],r=a[1],o=i.map((function(e){return e.id})),c=r.map((function(e){return e.id}));switch(n){case"watched":if(o.includes(e.id)){var s=i.filter((function(t){return t.id!==e.id}));(0,p.saveToStorage)("watched",s)}else{i.push(e);var l=r.filter((function(t){return t.id!==e.id}));(0,p.saveToStorage)("watched",i),(0,p.saveToStorage)("queue",l)}break;case"queue":if(c.includes(e.id)){var u=r.filter((function(t){return t.id!==e.id}));(0,p.saveToStorage)("queue",u)}else{r.push(e);var g=i.filter((function(t){return t.id!==e.id}));(0,p.saveToStorage)("watched",g),(0,p.saveToStorage)("queue",r)}break;default:console.log("Error from add to storage by movie type")}}function N(e){var t=function(t){return!!(0,p.getFromStorage)(t).map((function(e){return e.id})).includes(e)};t("watched")?q.addToWatchedBtn.textContent="REMOVE":t("watched")||(q.addToWatchedBtn.textContent="ADD TO WATCHED"),t("queue")?q.addToQueueBtn.textContent="REMOVE":t("queue")||(q.addToQueueBtn.textContent="ADD TO QUEUE")}q.addToWatchedBtn.addEventListener("click",L),q.addToQueueBtn.addEventListener("click",L),r("15Ogw"),r("5JnJR");var O=document.querySelector(".genres-nav-button"),C=document.querySelector(".mobile-menu"),M=document.querySelector(".mobile-menu-list"),H=document.querySelector(".genres-nav-button .genres-nav-button__line:nth-of-type(1)"),k=document.querySelector(".genres-nav-button .genres-nav-button__line:nth-of-type(2)"),R=document.querySelector(".genres-nav-button .genres-nav-button__line:nth-of-type(3)"),D="genres";O.addEventListener("click",(function(){H.classList.toggle("genres-nav-button__line--1"),k.classList.toggle("genres-nav-button__line--2"),R.classList.toggle("genres-nav-button__line--3"),C.classList.toggle("mobile-menu--open"),function(e){M.innerHTML="";var t=e.map((function(e){var t=e.name;return'<li class="mobile-menu-item"><a data-action="'.concat(t.toLowerCase(),'">').concat(t,"</a></li>")})).join("");M.insertAdjacentHTML("beforeend",t)}(function(){try{return JSON.parse(localStorage.getItem(D))}catch(e){return console.warn("Cannot parse JSON from localStorage"),null}}())})),M.addEventListener("click",(function(e){if("A"!==e.target.nodeName)return;e.target.dataset.action;console.log(e.target.dataset.action)})),r("lSt1Q"),r("iNWLi")}();
//# sourceMappingURL=index.661265f4.js.map
