!function(){function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},n.parcelRequired7c6=r),r.register("iE7OH",(function(t,n){var a,i;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var r={};a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},i=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("aNJCr",(function(t,n){var a;e(t.exports,"getBundleURL",(function(){return a}),(function(e){return a=e}));var i={};function r(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return r(e[2])}return"/"}(),i[e]=t),t}})),r("iE7OH").register(JSON.parse('{"EVgbq":"index.c11b0f90.js","53s11":"sprite.ea1db862.svg","39yDM":"cinemaCamera.7e0a12c0.gif","5UbS1":"index.9b9158a6.css","2hvCh":"index.8dff1979.js"}'));var o,s=r("bpxeT"),l=r("2TvXO"),c=r("dIxxU");o=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("53s11"),document.querySelector("main").insertAdjacentHTML("beforeend",'<ul id="pag-container" class="pagination list"></ul>');var g=document.querySelector(".pagination"),_=0;function u(e,n){var a="",i=n-2,r=n-1,s=n+1,l=n+2;_=n,window.innerWidth>320&&window.innerWidth<767.98?(n>1&&(a+='<li class="pagination__left pagination__elem"><svg id="svg__left" class="icon__arrow icon__arrow--left" width="10px" height="10px"><use id="use__left" href="'.concat(t(o),'#arrow-pag"></use></svg></li>')),n>2&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(i,"</li>")),n>1&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(r,"</li>")),a+='<li class="pagination__currentPage pagination__elem"><b>'.concat(n,"</b></li>"),e>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(s,"</li>")),e-1>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(l,"</li>")),e>n&&(a+='<li class="pagination__right pagination__elem"><svg id="svg__right" class="icon__arrow icon__arrow--right" width="10px" height="10px"><use id="use__right" href="'.concat(t(o),'#arrow-pag"></use></svg><li>'))):(n>1&&(a+='<li class="pagination__left pagination__elem"><svg id="svg__left" class="icon__arrow icon__arrow--left" width="10px" height="10px"><use id="use__left" class="use" href="'.concat(t(o),'#arrow-pag"></use></svg></li>')),n>1&&(a+='<li class="pagination__elem pagination__elem--page pagination__elem--cutPage">1</li>'),n>4&&(a+='<li class="pagination__elem pagination__elem--dots">...</li>'),n>3&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(i,"</li>")),n>2&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(r,"</li>")),a+='<li class="pagination__currentPage pagination__elem"><b>'.concat(n,"</b></li>"),e-1>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(s,"</li>")),e-2>n&&(a+='<li class="pagination__elem pagination__elem--page">'.concat(l,"</li>")),e-3>n&&(a+='<li class="pagination__elem pagination__elem--dots">...</li>'),e>n&&(a+='<li class="pagination__elem pagination__elem--page pagination__elem--cutPage">'.concat(e,"</li>"),a+='<li class="pagination__right pagination__elem"><svg id="svg__right" class="icon__arrow icon__arrow--right" width="10px" height="10px"><use id="use__right" href="'.concat(t(o),'#arrow-pag"></use></svg><li>'))),g.innerHTML=a}g.addEventListener("click",(function(e){var t=localStorage.getItem("paramsPart");if("LI"!==e.target.nodeName&&"svg"!==e.target.nodeName&&"use"!==e.target.nodeName)return;if("pagination__left pagination__elem"===e.target.className||"svg__left"===e.target.id||"use__left"===e.target.id)return void w(_-=1,t);if("pagination__right pagination__elem"===e.target.className||"svg__right"===e.target.id||"use__right"===e.target.id)return void w(_+=1,t);if("..."===e.target.textContent)return;w(Number(e.target.textContent),t)}));var d,p=r("iMXa0"),m=r("94krt");d=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("39yDM");var f="e32c2b640d0c14cb8349bc85f9ee8b0e",v=0;document.querySelector("body").insertAdjacentHTML("afterbegin",'<img src="'.concat(t(d),'" alt="Spinner" width="50" class="spinner is-hidden" />'));var h=document.querySelector(".spinner"),b=document.querySelector("#p-not");function w(e,t){return L.apply(this,arguments)}function L(){return(L=t(s)(t(l).mark((function e(n,a){var i,r;return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.classList.remove("is-hidden"),i=c.default.create({baseURL:"https://api.themoviedb.org/3/".concat(a),headers:{"Content-Type":"application/json"},params:{api_key:f,page:"".concat(n)}}),e.next=4,i.get();case 4:if(r=e.sent.data,v="".concat(r.total_pages),r.total_results){e.next=11;break}return h.classList.add("is-hidden"),e.abrupt("return",b.classList.remove("is-hidden"));case 11:u(v,n);case 12:(0,m.removeMarkupMovieCard)(),(0,p.saveToStorage)("movies",r),(0,p.getFromStorage)("movies"),(0,m.renderMarkupMovieCard)(r),b.classList.add("is-hidden"),h.classList.add("is-hidden");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r("iMXa0");localStorage.setItem("paramsPart","trending/movie/week"),w(1,localStorage.getItem("paramsPart")),r("2rpNs");p=r("iMXa0");var x=document.querySelector(".search-form"),S=document.querySelector(".search-form__input");x.addEventListener("submit",(function(e){e.preventDefault(),(0,p.removeItem)("movies");var t,n,a=S.value;localStorage.setItem("paramsPart","search/movie?query=".concat(a)),t=1,n=localStorage.getItem("paramsPart"),w(t,n),x.reset()})),r("5xtVg"),r("15Ogw"),r("5JnJR");p=r("iMXa0");var y=(0,r("l1RgP").default)();y.btn.addEventListener("click",(function(){y.firstLine.classList.toggle("genres-nav-button__line--1"),y.secondLine.classList.toggle("genres-nav-button__line--2"),y.thirdLine.classList.toggle("genres-nav-button__line--3"),y.menu.classList.toggle("mobile-menu--open"),function(e){y.menuList.innerHTML="";var t=e.map((function(e){var t=e.name,n=e.id;return'<li class="mobile-menu-item"><a class=\'mobile-menu-link\' data-action="'.concat(n,'">').concat(t,"</a></li>")})).join("");y.menuList.insertAdjacentHTML("beforeend",t)}(function(){try{return JSON.parse(localStorage.getItem(E))}catch(e){return console.warn("Cannot parse JSON from localStorage"),null}}())})),window.onscroll=function(){(document.body.scrollTop>200||document.documentElement.scrollTop>200)&&(y.menu.classList.remove("mobile-menu--open"),y.firstLine.classList.remove("genres-nav-button__line--1"),y.secondLine.classList.remove("genres-nav-button__line--2"),y.thirdLine.classList.remove("genres-nav-button__line--3"))};var E="genres";y.menuList.addEventListener("click",(function(e){if("A"!==e.target.nodeName)return;(0,p.removeItem)("movies");var t=document.querySelectorAll(".mobile-menu-link"),n=e.target.dataset.action;console.log("sortByGenre ~ value",n);for(var a=0;a<t.length;a+=1)n===t[a].dataset.action?t[a].classList.add("active"):t[a].classList.remove("active");localStorage.setItem("paramsPart","discover/movie?sort_by=popularity.desc&with_genres=".concat(n)),i=1,r=localStorage.getItem("paramsPart"),w(i,r);var i,r})),r("lSt1Q"),r("iNWLi"),r("9VC5X"),r("axifr")}();
//# sourceMappingURL=index.c11b0f90.js.map
