{"mappings":"gfAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,WAEA,IAAIE,EAAU,GAcZC,aAAaC,QAAQ,aAAc,uBAEnCF,EAAUC,aAAaE,QAAQ,eAE/B,EAAAJ,EAAAK,aANkB,EAMOJ,G,WCpB3BD,EAAAD,EAAA,a,aASMO,EAAOC,SAASC,cAAc,gBAC9BC,EAAQF,SAASC,cAAc,uBAqBrCF,EAAKI,iBAAiB,UAnBtB,SAAsBC,GACpBA,EAAMC,kBACN,EAAAC,EAAAC,YAAW,UAEX,IAQIC,EAEAC,EAVEC,EAAcR,EAAMS,MAC1BhB,aAAaC,QAAQ,aAAc,sBAAkCgB,OAAZF,IAOrDF,EAAc,EAEdC,EAAUd,aAAaE,QAAQ,eAEnC,EAAAJ,EAAAK,aAAYU,EAAaC,GARzBV,EAAKc,O,qCCpBPpB,EAAAD,EAAA,S,aAAA,IAIMsB,GAAO,E,WAAAC,WAEbD,EAAKE,IAAIb,iBAAiB,SAC1B,WACEW,EAAKG,UAAUC,UAAUC,OAAO,8BAChCL,EAAKM,WAAWF,UAAUC,OAAO,8BACjCL,EAAKO,UAAUH,UAAUC,OAAO,8BAChCL,EAAKQ,KAAKJ,UAAUC,OAAO,qBAkB7B,SAAsBI,GACpBT,EAAKU,SAASC,UAAY,GAC1B,IAAMC,EAASH,EACZI,KAAI,SAAAC,G,IAAGC,EAAID,EAAJC,KAAMC,EAAEF,EAAFE,GACZ,MAAO,2EAAgFlB,OAAPkB,EAAG,MAASlB,OAALiB,EAAK,Y,IAE7FE,KAAK,IACRjB,EAAKU,SAASQ,mBAAmB,YAAaN,E,CAxB9CO,CA4BF,WACE,IAEE,OADaC,KAAKC,MAAMxC,aAAaE,QAAQuC,G,CAE7C,MAAOC,GAEP,OADAC,QAAQC,KAAK,uCACN,I,EAlCIC,G,IAEfC,OAAOC,SAAW,YAKd1C,SAAS2C,KAAKC,UAAY,KAC1B5C,SAAS6C,gBAAgBD,UAAY,OAErC9B,EAAKQ,KAAKJ,UAAU4B,OAAO,qBAC3BhC,EAAKG,UAAUC,UAAU4B,OAAO,8BAChChC,EAAKM,WAAWF,UAAU4B,OAAO,8BACjChC,EAAKO,UAAUH,UAAU4B,OAAO,8B,EAcpC,IAAIV,EAAa,SAWjBtB,EAAKU,SAASrB,iBAAiB,SAE/B,SAAqBC,GACnB,GAA8B,MAA1BA,EAAM2C,OAAOC,SACf,QAEF,EAAA1C,EAAAC,YAAW,UACX,IAAM0C,EAAOjD,SAASkD,iBAAiB,qBACjCvC,EAAQP,EAAM2C,OAAOI,QAAQC,OACnCd,QAAQe,IAAI,sBAAuB1C,GACnC,IAAK,IAAI2C,EAAI,EAAGA,EAAIL,EAAKM,OAAQD,GAAK,EAChC3C,IAAUsC,EAAKK,GAAGH,QAAQC,OAC5BH,EAAKK,GAAGpC,UAAUsC,IAAI,UAEtBP,EAAKK,GAAGpC,UAAU4B,OAAO,UAI7BnD,aAAaC,QACX,aACA,sDAA4DgB,OAAND,IAMpDH,EAAc,EACdC,EAAUd,aAAaE,QAAQ,eACnC,EAAAJ,EAAAK,aAAYU,EAAaC,GAH3B,IACMD,EACAC,C","sources":["src/index.js","src/js/trending.js","src/js/headerSearch.js","src/js/sortGenres.js"],"sourcesContent":["import './js/api-common';\nimport './js/trending';\nimport './js/api-genres';\nimport './js/headerSearch';\nimport './js/modal';\nimport './js/modalTeamForm';\nimport './js/scrollTo';\nimport './js/sortGenres';\nimport './js/popup';\nimport './js/firebase';\nimport './js/theme';\nimport './js/fixFooter';\n","import { getResponse } from './api-common';\nimport { clearData } from './localeCommon';\nlet partUrl = '';\n\n\n/**\n * Create pagination\n * @param {Number} currentPage - current page for search\n * @param {Number} totalPages  - all pages for search\n */\n\ntrending();\n\nfunction trending() {\n  let currentPage = 1;\n\n  localStorage.setItem('paramsPart', 'trending/movie/week');\n\n  partUrl = localStorage.getItem('paramsPart');\n\n  getResponse(currentPage, partUrl);\n}\n","import { getResponse } from './api-common';\nimport { removeItem } from './localeCommon';\n\n/**\n * Create pagination\n * @param {Number} currentPage - current page for search\n * @param {Number} totalPages  - all pages for search\n */\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-form__input');\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  removeItem('movies');\n\n  const searchInput = input.value;\n  localStorage.setItem('paramsPart', `search/movie?query=${searchInput}`);\n\n  search();\n  form.reset();\n}\n\nfunction search() {\n  let currentPage = 1;\n\n  let partUrl = localStorage.getItem('paramsPart');\n\n  getResponse(currentPage, partUrl);\n}\n\nform.addEventListener('submit', onSubmitForm);\n","import { getResponse } from './api-common';\nimport { removeItem } from './localeCommon';\nimport getRefs from './getRefs';\n\nconst refs = getRefs();\n\nrefs.btn.addEventListener('click', onClickMenu);\nfunction onClickMenu() {\n  refs.firstLine.classList.toggle('genres-nav-button__line--1');\n  refs.secondLine.classList.toggle('genres-nav-button__line--2');\n  refs.thirdLine.classList.toggle('genres-nav-button__line--3');\n  refs.menu.classList.toggle('mobile-menu--open');\n  renderGenres(getFromStorageGenre('genres'));\n}\nwindow.onscroll = function () {\n  scrollFunction();\n};\nfunction scrollFunction() {\n  if (\n    document.body.scrollTop > 200 ||\n    document.documentElement.scrollTop > 200\n  ) {\n    refs.menu.classList.remove('mobile-menu--open');\n    refs.firstLine.classList.remove('genres-nav-button__line--1');\n    refs.secondLine.classList.remove('genres-nav-button__line--2');\n    refs.thirdLine.classList.remove('genres-nav-button__line--3');\n  }\n}\n\nfunction renderGenres(results) {\n  refs.menuList.innerHTML = '';\n  const markup = results\n    .map(({ name, id }) => {\n      return `<li class=\"mobile-menu-item\"><a class='mobile-menu-link' data-action=\"${id}\">${name}</a></li>`;\n    })\n    .join('');\n  refs.menuList.insertAdjacentHTML('beforeend', markup);\n}\n\nlet storageKey = 'genres';\nfunction getFromStorageGenre() {\n  try {\n    const data = JSON.parse(localStorage.getItem(storageKey));\n    return data;\n  } catch (err) {\n    console.warn('Cannot parse JSON from localStorage');\n    return null;\n  }\n}\n\nrefs.menuList.addEventListener('click', sortByGenre);\n\nfunction sortByGenre(event) {\n  if (event.target.nodeName !== 'A') {\n    return;\n  }\n  removeItem('movies');\n  const link = document.querySelectorAll('.mobile-menu-link');\n  const value = event.target.dataset.action;\n  console.log('sortByGenre ~ value', value);\n  for (let i = 0; i < link.length; i += 1) {\n    if (value === link[i].dataset.action) {\n      link[i].classList.add('active');\n    } else {\n      link[i].classList.remove('active');\n    }\n  }\n\n  localStorage.setItem(\n    'paramsPart',\n    `discover/movie?sort_by=popularity.desc&with_genres=${value}`\n  );\n  sort();\n}\n\nfunction sort() {\n  let currentPage = 1;\n  let partUrl = localStorage.getItem('paramsPart');\n  getResponse(currentPage, partUrl);\n}\n"],"names":["parcelRequire","$4LOYa","$810e0e48131d77d4$var$partUrl","localStorage","setItem","getItem","getResponse","$e7f6ad93972e0e25$var$form","document","querySelector","$e7f6ad93972e0e25$var$input","addEventListener","event","preventDefault","$iMXa0","removeItem","currentPage","partUrl","searchInput","value","concat","reset","$a171a04c08623b33$var$refs","default","btn","firstLine","classList","toggle","secondLine","thirdLine","menu","results","menuList","innerHTML","markup","map","param","name","id","join","insertAdjacentHTML","$a171a04c08623b33$var$renderGenres","JSON","parse","$a171a04c08623b33$var$storageKey","err","console","warn","$a171a04c08623b33$var$getFromStorageGenre","window","onscroll","body","scrollTop","documentElement","remove","target","nodeName","link","querySelectorAll","dataset","action","log","i","length","add"],"version":3,"file":"index.dabe2e32.js.map"}