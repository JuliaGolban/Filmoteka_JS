function e(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=a.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},a.parcelRequired7c6=o),o.register("kyEFX",(function(t,a){var n,i;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var o={};n=function(e){for(var t=Object.keys(e),a=0;a<t.length;a++)o[t[a]]=e[t[a]]},i=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"5ZPII":"index.e6393706.js","6rWO1":"sprite.7e1a1019.svg","eXHd7":"cinemaCamera.7e0a12c0.gif","b9auz":"index.e62628ec.js"}'));var r,l=o("2shzp");r=new URL(o("kyEFX").resolve("6rWO1"),import.meta.url).toString(),document.querySelector("main").insertAdjacentHTML("beforeend",'<ul id="pag-container" class="pagination list"></ul>');const s=document.querySelector(".pagination");let c=0;function g(e,a){let n="",i=a-2,o=a-1,l=a+1,g=a+2;c=a,window.innerWidth>320&&window.innerWidth<767.98?(a>1&&(n+=`<li class="pagination__left pagination__elem"><svg id="svg__left" class="icon__arrow icon__arrow--left" width="10px" height="10px"><use id="use__left" href="${t(r)}#arrow-pag"></use></svg></li>`),a>2&&(n+=`<li class="pagination__elem pagination__elem--page">${i}</li>`),a>1&&(n+=`<li class="pagination__elem pagination__elem--page">${o}</li>`),n+=`<li class="pagination__currentPage pagination__elem"><b>${a}</b></li>`,e>a&&(n+=`<li class="pagination__elem pagination__elem--page">${l}</li>`),e-1>a&&(n+=`<li class="pagination__elem pagination__elem--page">${g}</li>`),e>a&&(n+=`<li class="pagination__right pagination__elem"><svg id="svg__right" class="icon__arrow icon__arrow--right" width="10px" height="10px"><use id="use__right" href="${t(r)}#arrow-pag"></use></svg><li>`)):(a>1&&(n+=`<li class="pagination__left pagination__elem"><svg id="svg__left" class="icon__arrow icon__arrow--left" width="10px" height="10px"><use id="use__left" class="use" href="${t(r)}#arrow-pag"></use></svg></li>`),a>1&&(n+='<li class="pagination__elem pagination__elem--page pagination__elem--cutPage">1</li>'),a>4&&(n+='<li class="pagination__elem pagination__elem--dots">...</li>'),a>3&&(n+=`<li class="pagination__elem pagination__elem--page">${i}</li>`),a>2&&(n+=`<li class="pagination__elem pagination__elem--page">${o}</li>`),n+=`<li class="pagination__currentPage pagination__elem"><b>${a}</b></li>`,e-1>a&&(n+=`<li class="pagination__elem pagination__elem--page">${l}</li>`),e-2>a&&(n+=`<li class="pagination__elem pagination__elem--page">${g}</li>`),e-3>a&&(n+='<li class="pagination__elem pagination__elem--dots">...</li>'),e>a&&(n+=`<li class="pagination__elem pagination__elem--page pagination__elem--cutPage">${e}</li>`,n+=`<li class="pagination__right pagination__elem"><svg id="svg__right" class="icon__arrow icon__arrow--right" width="10px" height="10px"><use id="use__right" href="${t(r)}#arrow-pag"></use></svg><li>`)),s.innerHTML=n}s.addEventListener("click",(function(e){let t=localStorage.getItem("paramsPart");if("LI"!==e.target.nodeName&&"svg"!==e.target.nodeName&&"use"!==e.target.nodeName)return;if("pagination__left pagination__elem"===e.target.className||"svg__left"===e.target.id||"use__left"===e.target.id)return void h(c-=1,t);if("pagination__right pagination__elem"===e.target.className||"svg__right"===e.target.id||"use__right"===e.target.id)return void h(c+=1,t);if("..."===e.target.textContent)return;h(Number(e.target.textContent),t)}));var u,d=o("cChFX"),_=o("03v4M");u=new URL(o("kyEFX").resolve("eXHd7"),import.meta.url).toString();let p=0;document.querySelector("body").insertAdjacentHTML("afterbegin",`<img src="${t(u)}" alt="Spinner" width="50" class="spinner is-hidden" />`);const m=document.querySelector(".spinner"),f=document.querySelector("#p-not");async function h(e,t){m.classList.remove("is-hidden");const a=l.default.create({baseURL:`https://api.themoviedb.org/3/${t}`,headers:{"Content-Type":"application/json"},params:{api_key:"e32c2b640d0c14cb8349bc85f9ee8b0e",page:`${e}`}}),{data:n}=await a.get();if(p=`${n.total_pages}`,!n.total_results)return m.classList.add("is-hidden"),f.classList.remove("is-hidden");g(p,e),(0,_.removeMarkupMovieCard)(),(0,d.saveToStorage)("movies",n),(0,d.getFromStorage)("movies"),(0,_.renderMarkupMovieCard)(n),f.classList.add("is-hidden"),m.classList.add("is-hidden")}d=o("cChFX");let v="";(0,d.clearData)(),localStorage.setItem("paramsPart","trending/movie/week"),v=localStorage.getItem("paramsPart"),h(1,v),o("btlO4");d=o("cChFX");const b=document.querySelector(".search-form"),w=document.querySelector(".search-form__input");b.addEventListener("submit",(function(e){e.preventDefault(),(0,d.removeItem)("movies");const t=w.value;localStorage.setItem("paramsPart",`search/movie?query=${t}`),function(){let e=1,t=localStorage.getItem("paramsPart");h(e,t)}(),b.reset()})),o("bTcpz"),o("2shzp");d=o("cChFX");const S=(0,o("1DTXP").default)();function y(e){e.preventDefault();let t=Number(S.modal.dataset.action),a=function(e){const t=(0,d.getFromStorage)("movies").results.find((t=>t.id===Number(e)));return t}(t),n=String(e.currentTarget.dataset.click);"watched"===n&&(T(a,"watched"),L(t)),"queue"===n&&(T(a,"queue"),L(t))}function T(e,t){const[a,n]=function(){let e=localStorage.getItem("watched"),t=localStorage.getItem("queue");return e=null===e?[]:JSON.parse(e),t=null===t?[]:JSON.parse(t),[e,t]}(),i=a.map((e=>e.id)),o=n.map((e=>e.id));switch(t){case"watched":if(i.includes(e.id)){const t=a.filter((t=>t.id!==e.id));(0,d.saveToStorage)("watched",t)}else{a.push(e);const t=n.filter((t=>t.id!==e.id));(0,d.saveToStorage)("watched",a),(0,d.saveToStorage)("queue",t)}break;case"queue":if(o.includes(e.id)){const t=n.filter((t=>t.id!==e.id));(0,d.saveToStorage)("queue",t)}else{n.push(e);const t=a.filter((t=>t.id!==e.id));(0,d.saveToStorage)("watched",t),(0,d.saveToStorage)("queue",n)}break;default:console.log("Error from add to storage by movie type")}}function L(e){const t=function(t){return!!(0,d.getFromStorage)(t).map((e=>e.id)).includes(e)};t("watched")?S.addToWatchedBtn.textContent="REMOVE":t("watched")||(S.addToWatchedBtn.textContent="ADD TO WATCHED"),t("queue")?S.addToQueueBtn.textContent="REMOVE":t("queue")||(S.addToQueueBtn.textContent="ADD TO QUEUE")}S.addToWatchedBtn.addEventListener("click",y),S.addToQueueBtn.addEventListener("click",y),o("brGcd"),o("iVAra");const q=document.querySelector(".genres-nav-button"),E=document.querySelector(".mobile-menu"),x=document.querySelector(".mobile-menu-list"),$=document.querySelector(".genres-nav-button .genres-nav-button__line:nth-of-type(1)"),C=document.querySelector(".genres-nav-button .genres-nav-button__line:nth-of-type(2)"),k=document.querySelector(".genres-nav-button .genres-nav-button__line:nth-of-type(3)");q.addEventListener("click",(function(){$.classList.toggle("genres-nav-button__line--1"),C.classList.toggle("genres-nav-button__line--2"),k.classList.toggle("genres-nav-button__line--3"),E.classList.toggle("mobile-menu--open"),function(e){x.innerHTML="";const t=e.map((({name:e})=>`<li class="mobile-menu-item"><a data-action="${e.toLowerCase()}">${e}</a></li>`)).join("");x.insertAdjacentHTML("beforeend",t)}(function(){try{return JSON.parse(localStorage.getItem("genres"))}catch(e){return console.warn("Cannot parse JSON from localStorage"),null}}())})),x.addEventListener("click",(function(e){if("A"!==e.target.nodeName)return;e.target.dataset.action;console.log(e.target.dataset.action)})),o("cfJuj"),o("2ix2C");
//# sourceMappingURL=index.e6393706.js.map
