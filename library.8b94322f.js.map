{"mappings":"gfAAAA,EAAA,S,iCCAA,IAAAC,EAAAD,EAAA,S,6BCAAA,EAAA,S,4BCAAC,EAAAD,EAAA,S,YAEME,GAAO,EAAAD,EAAAE,WDEb,IAAMC,GAAO,EAAAH,EAAAE,WDGb,IAAME,GAAO,EAAAJ,EAAAE,WAEbE,EAAKC,IAAIC,iBAAiB,QAASC,EAAAC,aAEnCC,OAAOC,SAAW,YAChB,EAAAC,EAAAT,U,EAIFE,EAAKQ,SAASN,iBAAiB,SCVhB,SAAqBO,GAClC,GAA8B,MAA1BA,EAAMC,OAAOC,SAAjB,CAIA,IAAIC,EAAa,CAAC,UAAW,SAOvBC,EAJAd,EAAKe,SAASC,UAAUC,SAAS,gBAC5BJ,EAAW,GACNA,EAAW,GAIrBK,GAAS,EAAAC,EAAAC,gBAAeN,GAExBO,EAAQX,EAAMC,OAAOW,QAAQC,OAC7BC,EAAOC,SAASC,iBAAiB,qBACvCC,QAAQC,IAAI,sBAAuBP,GACnC,IAAK,IAAIQ,EAAI,EAAGA,EAAIL,EAAKM,OAAQD,GAAK,EAChCR,IAAUG,EAAKK,GAAGP,QAAQC,OAC5BC,EAAKK,GAAGb,UAAUe,IAAI,UAEtBP,EAAKK,GAAGb,UAAUgB,OAAO,UAI7B,IC5BQC,ED4BJC,EAAM,GACVhB,EAAOiB,SAAQ,SAAAC,GACTA,EAAKC,UAAUC,SAASC,OAAOlB,MACjC,EAAAmB,EAAAC,yBACAzC,EAAK0C,MAAM1B,UAAUe,IAAI,aACzBG,EAAIS,KAAKP,KAET,EAAAI,EAAAC,wB,ICnCIR,EDuCgBC,ECtCnBU,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAWF,EAAXE,YAAaV,EAASQ,EAATR,UAAWK,EAAKG,EAALH,MAAOM,EAAYH,EAAZG,aACrCC,GAAO,EAAAC,EAAAC,uBAAsBd,GACjC,MAAO,0DAGae,OAF2BN,EAAG,kCAOzBM,OALLL,EACI,4CAAwDK,OAAZL,EAAY,KACvD,uIACN,6FAM6CK,OAJvCV,EAAM,oOAKkCU,OADDV,EAAM,iFACAU,OAALH,EAAK,OAGpEG,OAHyEJ,aAAA,EAAAA,EAAcK,MACvF,EACA,GACA,+D,IAIHC,KAAK,IACRxD,EAAKyD,YAAYC,mBAAmB,YAAavB,GDgB9CC,EAAIJ,QACP9B,EAAK0C,MAAM1B,UAAUgB,OAAO,YAtC5B,C","sources":["src/library.js","src/js/genres/sortLibrary.js","src/js/genres/sort-library-local.js","src/js/genres/render-from-storage.js"],"sourcesContent":["import './js/libraryButtonSwitch';\nimport './js/modal';\nimport './js/modalTeamForm';\nimport './js/scrollTo';\nimport './js/genres/sortLibrary';\nimport './js/popup';\nimport './js/firebase';\nimport './js/theme';\n// import './js/fixFooter';\n","import getRefs from '../getRefs';\nimport { onClickMenu } from './onClickMenu';\nimport scrollFunction from './auto-close-menu';\nimport sortByGenre from './sort-library-local';\n\nimport renderMarkupCardLibrary from './render-from-storage';\n\nconst refs = getRefs();\n//open menu genres\nrefs.btn.addEventListener('click', onClickMenu)\n//autoclose menu onscroll\nwindow.onscroll = function () {\n  scrollFunction();\n};\n\n//sort\nrefs.menuList.addEventListener('click', sortByGenre);","import getRefs from '../getRefs';\nimport { getFromStorage } from '../localeCommon';\nimport { removeMarkupMovieCard } from '../movie-card';\nimport renderMarkupCardLibrary from './render-from-storage';\nconst refs = getRefs();\n\nexport default function sortByGenre(event) {\n  if (event.target.nodeName !== 'A') {\n    return;\n  }\n  //get card from localeStorage with storageKey\n  let storageKey = ['watched', 'queue'];\n\n  function getStorageKey() {\n    if (refs.btnQueue.classList.contains('--active-btn')) {\n      return storageKey[1];\n    } else return storageKey[0];\n  }\n  const key = getStorageKey();\n\n  const result = getFromStorage(key);\n  //add and remove class active to link with genre\n  const value = event.target.dataset.action;\n  const link = document.querySelectorAll('.mobile-menu-link');\n  console.log('sortByGenre ~ value', value);\n  for (let i = 0; i < link.length; i += 1) {\n    if (value === link[i].dataset.action) {\n      link[i].classList.add('active');\n    } else {\n      link[i].classList.remove('active');\n    }\n  }\n  // sort card to active genre\n  let arr = [];\n  result.forEach(elem => {\n    if (elem.genre_ids.includes(Number(value))) {\n      removeMarkupMovieCard();\n      refs.title.classList.add('is-hidden');\n      arr.push(elem);\n    } else {\n      removeMarkupMovieCard();\n    }\n  });\n\n  renderMarkupCardLibrary(arr);\n  if (!arr.length) {\n    refs.title.classList.remove('is-hidden');\n  }\n}\n","import getRefs from '../getRefs';\nimport { getGenresLocalStorege } from '../api-genres';\nconst refs = getRefs();\n\nexport default function renderMarkupCardLibrary(results) {\n    const markup = results\n      .map(({ id, poster_path, genre_ids, title, release_date }) => {\n        let name = getGenresLocalStorege(genre_ids);\n        return `\n                  <li class=\"gallery__item\" data-id=\"${id}\">\n                          ${\n                            poster_path\n                              ? `<img src=\"https://image.tmdb.org/t/p/w500${poster_path}\"`\n                              : `<img src=\"https://yt3.ggpht.com/AAKF_677TIvjFz_9xFF0R6PgiVd0kRpEtY6APSxSDRP65nXg8hkn9NFsz2bRd9_Z37DJ9D_b=s900-c-k-c0x00ffffff-no-rj\"`\n                          }\n                          class=\"gallery__item-image\" \n                          alt=\"${title}\" width=\"250\"\n                          loading=\"lazy\"\n                          />\n                          <div class=\"gallery__item-description\">\n                          <p class=\"gallery__item-description-title\"> ${title}</p>\n                          <p class=\"gallery__item-description-genres\"> ${name} | ${release_date?.slice(\n          0,\n          4\n        )}</p>\n                      </div>\n                  </li> `;\n      })\n      .join('');\n    refs.galleryList.insertAdjacentHTML('beforeend', markup);\n  }"],"names":["parcelRequire","$l1RgP","$3a641fa6d0dcc68e$var$refs","default","$6d2ddb9639c5654e$var$refs","$e32300f9ca406128$var$refs","btn","addEventListener","$lqkWQ","onClickMenu","window","onscroll","$iG60z","menuList","event","target","nodeName","storageKey","key","btnQueue","classList","contains","result","$iMXa0","getFromStorage","value","dataset","action","link","document","querySelectorAll","console","log","i","length","add","remove","markup","arr","forEach","elem","genre_ids","includes","Number","$94krt","removeMarkupMovieCard","title","push","map","param","id","poster_path","release_date","name","$2rpNs","getGenresLocalStorege","concat","slice","join","galleryList","insertAdjacentHTML"],"version":3,"file":"library.8b94322f.js.map"}